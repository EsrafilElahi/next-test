import Head from 'next/head'
import Link from 'next/link'
import styles from '../../styles/Users.module.css'


export async function getServerSideProps() {
  const req = await fetch('https://jsonplaceholder.typicode.com/comments')
  const res = await req.json()
  const data = await res.slice(0, 50)

  return {
    props: { data }
  }
}


export default function Users({ data }) {

  return (
    <div>
      <Head>
        <title>Next Test | Users</title>
        <meta name="description" content="Generated By Esrafil Elahi" />
      </Head>

      <h1 className={styles.home}>Hello Users</h1><hr />
      <div className={styles.container}></div>

      {
        data.map(item => {
          return (
            <div key={item.id} className={styles.container}>
              <h4 className={styles.name}><Link href={`/users/${item.id}`}>{item.name}</Link></h4>
            </div>
          )
        })
      }

    </div>
  )
}

